function [BW,maskedImage] = segmentImage(RGB)
%segmentImage Segment image using auto-generated code from imageSegmenter App
%  [BW,MASKEDIMAGE] = segmentImage(RGB) segments image RGB using
%  auto-generated code from the imageSegmenter App. The final segmentation
%  is returned in BW, and a masked image is returned in MASKEDIMAGE.

% Auto-generated by imageSegmenter app on 03-Feb-2018
%----------------------------------------------------


% Convert RGB image into L*a*b* color space.
X = rgb2lab(RGB);

% Create empty mask.
BW = false(size(X,1),size(X,2));

% Draw Freehand
xPos = [446.8750 446.8750 447.3750 447.8750 448.3750 448.8750 449.3750 449.8750 450.3750 450.8750 451.3750 451.8750 451.8750 452.3750 452.3750 452.8750 453.3750 453.8750 454.3750 454.8750 455.3750 455.8750 456.3750 456.8750 457.3750 457.8750 457.8750 458.3750 458.8750 459.3750 459.8750 460.3750 460.8750 461.3750 461.8750 462.3750 462.8750 463.3750 463.8750 464.3750 464.8750 465.3750 465.8750 466.3750 466.8750 467.3750 467.3750 467.8750 468.3750 468.3750 468.8750 468.8750 469.3750 469.3750 469.8750 469.8750 470.3750 470.3750 470.8750 470.8750 471.3750 471.3750 471.3750 471.3750 471.3750 471.3750 471.8750 471.8750 471.8750 471.8750 471.8750 471.8750 471.8750 471.8750 471.8750 471.3750 470.8750 470.8750 470.3750 469.8750 469.3750 469.3750 468.8750 468.8750 468.3750 468.3750 468.3750 467.8750 467.3750 467.3750 466.8750 466.3750 466.3750 465.8750 465.3750 464.8750 464.3750 464.3750 463.8750 463.3750 462.8750 462.3750 461.8750 461.3750 460.8750 460.3750 459.8750 459.3750 458.8750 458.8750 458.3750 457.8750 457.8750 457.3750 457.3750 456.8750 456.3750 456.3750 455.8750 455.3750 455.3750 454.8750 454.8750 454.3750 453.8750 453.8750 453.3750 452.8750 452.8750 452.3750 451.8750 451.3750 450.8750 450.3750 449.8750 449.3750 449.3750 448.8750 448.8750 448.3750 448.3750 447.8750 447.8750 447.8750 447.8750 447.8750 447.3750 447.3750 446.8750 446.8750 446.8750 446.8750 446.8750];
yPos = [197.6250 197.1250 197.1250 197.1250 196.6250 196.1250 196.1250 196.1250 195.6250 195.6250 195.1250 195.1250 194.6250 194.6250 194.1250 194.1250 194.1250 194.1250 193.6250 193.6250 193.6250 193.1250 193.1250 193.1250 193.1250 193.1250 192.6250 192.6250 192.6250 192.6250 192.6250 192.6250 192.6250 192.1250 192.1250 192.1250 192.1250 192.1250 192.1250 192.1250 192.1250 192.1250 192.1250 192.1250 192.1250 192.6250 193.1250 193.1250 193.6250 194.1250 194.6250 195.1250 195.1250 195.6250 195.6250 196.1250 196.6250 197.1250 197.1250 197.6250 197.6250 198.1250 198.6250 199.1250 199.6250 200.1250 200.1250 200.6250 201.1250 201.6250 202.1250 202.6250 203.1250 203.6250 204.1250 204.1250 204.1250 204.6250 204.6250 205.1250 205.6250 206.1250 206.1250 206.6250 206.6250 207.1250 207.6250 208.1250 208.6250 209.1250 209.6250 210.1250 210.6250 210.6250 210.6250 211.1250 211.1250 211.6250 211.6250 211.6250 211.6250 211.6250 211.6250 211.6250 211.6250 211.6250 211.6250 211.6250 211.6250 211.1250 211.1250 210.6250 210.1250 210.1250 209.6250 209.6250 209.6250 209.1250 208.6250 208.6250 208.1250 208.1250 207.6250 207.6250 207.6250 207.1250 207.1250 207.1250 206.6250 206.6250 206.1250 206.1250 205.6250 205.1250 205.1250 204.6250 204.1250 203.6250 203.1250 203.1250 202.6250 202.6250 202.1250 201.6250 201.1250 200.6250 200.6250 200.1250 199.6250 199.1250 198.6250 198.1250 198.6250];
m = size(BW, 1);
n = size(BW, 2);
addedRegion = poly2mask(xPos, yPos, m, n);
BW = BW | addedRegion;

% Draw Freehand
xPos = [556.8750 556.8750 556.8750 556.8750 556.8750 556.8750 556.3750 556.3750 556.3750 556.3750 556.3750 556.3750 556.3750 556.3750 556.3750 556.8750 556.8750 557.3750 557.3750 557.8750 557.8750 558.3750 558.8750 558.8750 559.3750 559.8750 560.3750 560.3750 560.8750 561.3750 561.8750 562.3750 562.8750 563.3750 563.8750 564.3750 564.8750 564.8750 565.3750 565.8750 565.8750 566.3750 566.3750 566.8750 567.3750 567.8750 568.3750 568.3750 568.8750 568.8750 569.3750 569.3750 569.8750 569.8750 569.8750 570.3750 570.3750 570.8750 570.8750 570.8750 570.8750 570.8750 570.8750 570.8750 570.8750 570.8750 570.8750 570.3750 570.3750 569.8750 569.8750 569.3750 569.3750 568.8750 568.8750 568.3750 567.8750 567.8750 567.3750 567.3750 566.8750 566.8750 566.3750 566.3750 565.8750 565.3750 565.3750 564.8750 564.3750 564.3750 563.8750 563.3750 562.8750 562.3750 561.8750 561.8750 561.3750 561.3750 560.8750 560.3750 559.8750 559.3750 559.3750 558.8750 558.8750 558.3750 557.8750 557.8750 557.3750 557.3750 557.3750 556.8750 556.8750 556.8750 557.3750];
yPos = [218.1250 217.1250 216.6250 216.1250 215.6250 215.1250 214.6250 214.1250 213.6250 213.1250 212.6250 212.1250 211.6250 211.1250 210.6250 210.1250 209.6250 209.1250 208.6250 208.6250 208.1250 208.1250 208.1250 207.6250 207.6250 207.6250 207.1250 206.6250 206.6250 206.6250 206.6250 206.6250 206.6250 206.6250 206.6250 206.6250 206.6250 207.1250 207.1250 207.1250 207.6250 207.6250 208.1250 208.1250 208.1250 208.1250 208.1250 208.6250 208.6250 209.1250 209.1250 209.6250 209.6250 210.1250 210.6250 210.6250 211.1250 211.6250 212.1250 212.6250 213.1250 213.6250 214.1250 214.6250 215.1250 215.6250 216.1250 216.6250 217.1250 217.1250 217.6250 218.1250 218.6250 218.6250 219.1250 219.1250 219.6250 220.1250 220.1250 220.6250 220.6250 221.1250 221.1250 221.6250 221.6250 221.6250 222.1250 222.6250 222.6250 223.1250 223.1250 223.1250 223.1250 223.1250 223.1250 222.6250 222.6250 222.1250 222.1250 222.1250 221.6250 221.6250 221.1250 221.1250 220.6250 220.1250 220.1250 219.6250 219.6250 219.1250 218.6250 218.6250 218.1250 217.6250 218.1250];
m = size(BW, 1);
n = size(BW, 2);
addedRegion = poly2mask(xPos, yPos, m, n);
BW = BW | addedRegion;

% Create masked image.
maskedImage = RGB;
maskedImage(repmat(~BW,[1 1 3])) = 0;
end

